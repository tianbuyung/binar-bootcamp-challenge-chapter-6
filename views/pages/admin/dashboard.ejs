<!DOCTYPE html>
<html lang="en">

<head>
    <!-- General Head -->
    <%- include('../../partials/head'); %>
        <!-- Internal icon -->
        <link rel="icon" type="image/x-icon" href="../../images/home/icon.ico">
        <!-- Internal CSS -->
        <link rel="stylesheet" href="../stylesheets/admin.css">
</head>

<body>
    <% if (message !==true) { %>
        <%- include('../../partials/error'); %>
            <% } %>
                <header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
                    <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3 fs-6" href="/">Home</a>
                    <button class="navbar-toggler position-absolute d-md-none collapsed" type="button"
                        data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <input class="form-control form-control-dark w-100 rounded-0 border-0" type="text"
                        placeholder="Search" aria-label="Search">
                    <div class="navbar-nav">
                        <div class="nav-item text-nowrap">
                            <a class="nav-link px-3" href="/users/logout">Sign out</a>
                        </div>
                    </div>
                </header>

                <div class="container-fluid">
                    <div class="row">
                        <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
                            <div class="position-sticky pt-3 sidebar-sticky">
                                <ul class="nav flex-column">
                                    <li class="nav-item">
                                        <a class="nav-link" aria-current="page" href="/admin">
                                            <i class="bi bi-house-door"></i>
                                            Dashboard
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </nav>

                        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                            <div class="pt-3 pb-2 mb-3 border-bottom">
                                <div class="mb-2">
                                    <h1 class="h2">Create User</h1>
                                    <form class="row g-3" action="/admin" method="post">
                                        <div class="col-md-6">
                                            <label for="username" class="form-label">Username</label>
                                            <input type="text" class="form-control" id="username" name="username">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="password" class="form-label">Password</label>
                                            <input type="password" class="form-control" id="password" name="password">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="firstName" class="form-label">First Name</label>
                                            <input type="text" class="form-control" id="firstName" name="firstName">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="lastName" class="form-label">Last Name</label>
                                            <input type="text" class="form-control" id="lastName" name="lastName">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="addres" class="form-label">Address</label>
                                            <input type="text" class="form-control" id="addres"
                                                placeholder="1234 Main St" name="addres">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="phoneNumber" class="form-label">Phone Number</label>
                                            <input type="text" class="form-control" id="phoneNumber" name="phoneNumber">
                                        </div>
                                        <div class="col-12">
                                            <label for="bio" class="form-label">Bio</label>
                                            <input type="text" class="form-control" id="bio" name="bio">
                                        </div>
                                        <div class="col-12">
                                            <input class="form-check-input" type="checkbox" value="true" id="adminTrue"
                                                name="isAdmin">
                                            <input class="form-check-input" type="hidden" value="false" id="adminFalse"
                                                name="isAdmin">
                                            <label class="form-check-label" for="flexCheckDefault">
                                                Admin
                                            </label>
                                        </div>
                                        <div class="col-12">
                                            <button type="submit" class="btn btn-primary" onclick="checked()">Create
                                                User</button>
                                        </div>
                                    </form>
                                </div>
                                <div class="mb-2">
                                    <div class="table-responsive">
                                        <h1 class="h2">List Users</h1>
                                        <table class="table table-striped table-sm">
                                            <thead>
                                                <tr>
                                                    <th scope="col">#</th>
                                                    <th scope="col">User ID</th>
                                                    <th scope="col">Username</th>
                                                    <th scope="col">First Name</th>
                                                    <th scope="col">Last Name</th>
                                                    <th scope="col">Address</th>
                                                    <th scope="col">Phone Number</th>
                                                    <th scope="col">Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <% for( let index=0; index < data.length; index++ ) { %>
                                                    <tr>
                                                        <td>
                                                            <%= index+1 %>
                                                        </td>
                                                        <td>
                                                            <%= data[index].id %>
                                                        </td>
                                                        <td>
                                                            <%= data[index].username %>
                                                        </td>
                                                        <td>
                                                            <%= data[index].biodata.firstName %>
                                                        </td>
                                                        <td>
                                                            <%= data[index].biodata.lastName %>
                                                        </td>
                                                        <td>
                                                            <%= data[index].biodata.addres %>
                                                        </td>
                                                        <td>
                                                            <%= data[index].biodata.phoneNumber %>
                                                        </td>
                                                        <td>
                                                            <a href="/admin/<%= data[index].id %> "><i
                                                                    class="bi bi-eye-fill"></i></a> |
                                                            <a href="/admin/edit/<%= data[index].id %> "><i
                                                                    class="bi bi-pencil-fill"></i></a> |
                                                            <a href="/admin/delete/<%= data[index].id %> "><i
                                                                    class="bi bi-trash3-fill"></i></a>
                                                        </td>
                                                    </tr>
                                                    <% } %>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </main>
                    </div>
                </div>
                <!-- General Javascript -->
                <%- include('../../partials/script') %>
                    <!-- Internal Javascript -->
                    <script type="text/javascript" src="../javascripts/admin.js"></script>
</body>

</html>